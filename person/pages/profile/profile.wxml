<view class="container">

<!-- 头像和用户名 -->
<view class="card" catchtap="showModal" data-item="头像" style="position: relative; left: 0rpx; top: -129rpx; width: 654rpx; display: block; box-sizing: border-box">
  <view class="card-item" style="height: 135rpx; display: flex; box-sizing: border-box">
    <text>头像</text>
    <view class="card-item-right">
      <image style="width: 140rpx; height: 140rpx; display: block; box-sizing: border-box; position: relative; left: 0rpx; top: 0rpx" src="{{avatar || '/images/avatar.png'}}" class="icon" />
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
  <view class="card-item" catchtap="showModal" data-item="用户名">
    <text>用户名</text>
    <view class="card-item-right">
      <text>{{username || 'Yolanda'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
</view>

<!-- 身高体重年龄 -->
<view class="card" style="position: relative; left: 0rpx; top: -70rpx; width: 654rpx; display: block; box-sizing: border-box">
  <view class="card-item" catchtap="showModal" data-item="身高">
    <text>身高 (cm)</text>
    <view class="card-item-right">
      <text>{{height || '160'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
  <view class="card-item" catchtap="showModal" data-item="体重">
    <text>体重 (kg)</text>
    <view class="card-item-right">
      <text>{{weight || '45'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
  <view class="card-item" catchtap="showModal" data-item="年龄">
    <text>年龄</text>
    <view class="card-item-right">
      <text>{{age || '20'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
</view>

<!-- 咖啡因摄入目标 -->
<view class="card" style="position: relative; left: 0rpx; top: -18rpx; height: 335rpx; display: block; box-sizing: border-box; width: 654rpx">
  <view class="card-item" catchtap="showModal" data-item="咖啡因摄入目标">
    <text>咖啡因摄入目标 (mg)</text>
    <view class="card-item-right">
      <text>{{caffeineGoal || '170'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
  <view class="card-item" catchtap="showModal" data-item="睡前咖啡因水平">
    <text>睡前咖啡因水平 (mg)</text>
    <view class="card-item-right">
      <text>{{caffeineLevelBeforeSleep || '50'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
  <view class="card-item" catchtap="showModal" data-item="入睡时间">
    <text>目标入睡时间</text>
    <view class="card-item-right">
      <text>{{sleepTime || '22:00'}}</text>
      <image src="/images/right.png" class="arrow" />
    </view>
  </view>
  <view class="divider"></view>
</view>

<!-- 底部插画 -->
<image style="height: 266rpx; display: block; box-sizing: border-box; position: relative; left: 0rpx; top: -49rpx; width: 654rpx" class="footer-image" src="/images/background-footer.png" alt="底部插画" />

<!-- 修改弹窗 -->
<view class="modal" wx:if="{{modalVisible}}">
  <view class="modal-content">
    <view class="modal-header">
      <image src="/images/avatar.png" class="icon" />
      <text>{{modalTitle}}</text>
      <view>
        <image wx:if="{{modalType === '头像'}}" src="{{avatar || '/images/avatar.png'}}" style="width: 200rpx; height: 200rpx;"/>
        <input wx:else class="modal-input" value="{{modalInput}}" bindinput="updateInput" placeholder="请输入内容" />
      </view>
    </view>
    <view class="modal-actions">
      <button class="modal-button" bindtap="confirmModal">确认</button>
      <button class="modal-button" bindtap="hideModal">返回</button>
    </view>
  </view>
</view>
</view>
