<view class="page">
  <!-- 卡片1：体内咖啡因 -->
  <view class="card card-body">
    <view class="caffeine-circle">
      <view class="fill" style="height: {{fillHeightStr}};"></view>
      <view class="sleep-line"></view>
      <text class="sleep-label">睡眠水平</text>
    </view>

    <view class="card-body-info">
      <view class="card-title">体内咖啡因</view>
      <view class="card-desc" style="width: 216rpx; display: block; box-sizing: border-box">动态计算体内实时咖啡因水平</view>
      <view class="level-badge {{levelClass}}" style="position: absolute; left: 247rpx; top: 0rpx; width: 50rpx; display: block; box-sizing: border-box">{{levelText}}</view>
      <view class="value-row">
        <text class="caffeine-value">{{bodyCaffeine}}</text>
        <text class="unit">mg</text>
      </view>
    </view>

    <image class="bear-img1" src="../images/bear_1.png" mode="widthFix" style="position: relative; left: -137rpx; top: -2rpx"></image>
  </view>

  <!-- 卡片2：今日咖啡因 -->
  <view class="card card-daily">
    <view class="card-daily-info">
      <view class="card-title">今日咖啡因</view>
      <view class="card-desc">今日累计摄入的总咖啡因</view>
      <view class="today-caffeine">
        <text class="bold brown">{{dailyCaffeine}}</text>
        <text class="slash">/</text>
        <text>{{dailyLimit}}mg</text>
      </view>
      <view class="progress">
        <view class="progress-bar" style="width: {{progressWidthStr}};"></view>
      </view>
    </view>
    <image class="bear-circle" src="../images/bear_2.png" mode="widthFix"></image>
  </view>

  <!-- 卡片3：元气时刻 -->
  <view class="card orange-card">
    <view class="vitality-info">
      <view class="card-title grey">元气时刻</view>
      <view class="timer-section">
        <view class="timer-label">提神倒计时</view>
        <view class="timer-value">{{timer}}</view>
        <view class="timer-end-time">提神至 {{vitalityEndTime}}</view>
      </view>
      <view class="progress light">
        <view class="progress-bar light" style="width: {{vitalityProgress}};"></view>
      </view>
      <view class="small-desc">
        体内咖啡因含量 {{bodyCaffeine}}mg
      </view>
    </view>
  </view>

  <!-- 设置按钮 -->
  <view class="card settings" bindtap="goToSetting">
    <image class="settings-icon" src="../images/settings.png" />
    <text class="settings-text">个性化咖啡因代谢设置</text>
    <image class="arrow-icon" src="../images/arrow.png" />
  </view>
</view>
